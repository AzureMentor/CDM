{
  "$schema": "../schema.cdm.json",
  "schemaVersion": "0.7.0",
  "imports": [
    {
      "uri": "/foundations.cdm.json"
    },
    {
      "uri": "Taxonomy.cdm.json"
    }
  ],
  "definitions": [
    {
      "traitName":"means.linguistic",
      "extendsTrait":"means"
    },
    {
      "traitName":"means.linguistic.synonym",
      "extendsTrait":"means.linguistic"
    },
    {
      "dataTypeName": "synonym",
      "extendsDataType": "string",
      "explanation": "an alternate meaning",
      "exhibitsTraits": [
          "means.linguistic.synonym"
      ]
    },
    {
      "dataTypeName": "stringListLookup",
      "extendsDataType": "string",
      "explanation": "One string value from a defined list of possibilities",
      "exhibitsTraits": [
          "does.haveDefault",
          "is.constrainedList"
      ]
    },
    {
      "entityName": "LinguisticAlternate",
      "extendsEntity": "CdmObject",
      "exhibitsTraits": [
        {
          "traitReference": "is.localized.displayedAs",
          "arguments": [
            {
              "entityReference": {
                "entityShape": "localizedTable",
                "constantValues": [
                  [
                    "en",
                    "A list of alternate meanings with associated sources"
                  ],
                  [
                    "de",
                    "the Germnan translation of 'A list of alternate meanings with associated sources'"
                  ]
                ]
              }
            }
          ]
        }
      ],
      "hasAttributes": [
        {
          "name": "alternateId",
          "relationship": "identifiedBy",
          "dataType": "integer"
        },
        {
          "name" : "alternateText",
          "dataType":"synonym"
        },
        {
          "name":"source",
          "dataType": {
            "dataTypeReference": "stringListLookup",
            "appliedTraits": [
              {
                "traitReference": "does.haveDefault",
                "arguments": [
                  {
                    "entityReference": {
                      "explanation": "The constantValues below correspond to the attributes of the 'localizedTable' entityShape which are: {languageTag, displayText}",
                      "entityShape": "localizedTable",
                      "constantValues": [
                        [
                            "en",
                            "colloquial"
                        ],
                        [
                            "en",
                            "formal"
                        ],
                        [
                            "en",
                            "popular"
                        ]
                      ]
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "name": "AlternateOf",
          "relationship": {
            "relationshipReference": "hasFlexibleRelationshipWithEntity",
            "appliedTraits": [
              {
                "traitReference": "does.imposeDirectives",
                "arguments": [
                    "referenceOnly"
                ]
            },
              {
                "traitReference": "does.referenceEntityVia",
                "arguments": [
                  {
                    "name": "foreignKeyAttribute",
                    "value": {
                      "name": "taxonomyId",
                      "dataType": "integer"
                    }
                  }
                ]
              }
            ]
          },
          "entity": {
            "entityReference": "Taxonomy",
            "appliedTraits": [
              {
                "traitReference": "is.identifiedBy",
                "arguments": [
                  "Taxonomy/(resolvedAttributes)/taxonomyId"
                ]
              }
            ]
          }
        }
      ]
    }
  ]
}